{% liquid
  assign heading_tag = block.settings.heading_level | default: 'h2'
%}

<{{ heading_tag }}
  class="heading-block heading-block--{{ block.settings.heading_size }} heading-block--align-{{ block.settings.text_alignment }}"
  style="--heading-max-width: {{ block.settings.max_width }}ch;"
  {{ block.shopify_attributes }}
>
  {{ block.settings.heading | escape }}
</{{ heading_tag }}>

{% if block.settings.subheading != blank %}
  <p class="heading-block__subheading heading-block__subheading--align-{{ block.settings.text_alignment }}">
    {{ block.settings.subheading | escape }}
  </p>
{% endif %}

{% stylesheet %}
  .heading-block {
    margin: 0;
    max-width: var(--heading-max-width);
  }

  .heading-block--size-small {
    font-size: 1.5rem;
    line-height: 1.3;
  }

  .heading-block--size-medium {
    font-size: 2rem;
    line-height: 1.25;
  }

  .heading-block--size-large {
    font-size: 2.5rem;
    line-height: 1.2;
  }

  .heading-block--align-left,
  .heading-block__subheading--align-left {
    text-align: left;
    margin-left: 0;
    margin-right: auto;
  }

  .heading-block--align-center,
  .heading-block__subheading--align-center {
    text-align: center;
    margin-left: auto;
    margin-right: auto;
  }

  .heading-block--align-right,
  .heading-block__subheading--align-right {
    text-align: right;
    margin-left: auto;
    margin-right: 0;
  }

  .heading-block__subheading {
    margin-top: 0.5rem;
    color: rgba(0, 0, 0, 0.7);
    font-size: 0.95em;
  }
{% endstylesheet %}

{% schema %}
{
  "name": "t:blocks.heading.name",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "t:blocks.heading.settings.content_heading"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "t:blocks.heading.settings.heading_label",
      "default": "t:blocks.heading.settings.heading_default"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "t:blocks.heading.settings.subheading_label"
    },
    {
      "type": "select",
      "id": "heading_level",
      "label": "t:blocks.heading.settings.heading_level_label",
      "default": "h2",
      "options": [
        { "value": "h1", "label": "t:blocks.heading.settings.heading_level_h1" },
        { "value": "h2", "label": "t:blocks.heading.settings.heading_level_h2" },
        { "value": "h3", "label": "t:blocks.heading.settings.heading_level_h3" },
        { "value": "h4", "label": "t:blocks.heading.settings.heading_level_h4" }
      ]
    },
    {
      "type": "select",
      "id": "heading_size",
      "label": "t:blocks.heading.settings.heading_size_label",
      "default": "size-medium",
      "options": [
        { "value": "size-small", "label": "t:blocks.heading.settings.heading_size_small" },
        { "value": "size-medium", "label": "t:blocks.heading.settings.heading_size_medium" },
        { "value": "size-large", "label": "t:blocks.heading.settings.heading_size_large" }
      ]
    },
    {
      "type": "text_alignment",
      "id": "text_alignment",
      "label": "t:blocks.heading.settings.text_alignment_label",
      "default": "center"
    },
    {
      "type": "range",
      "id": "max_width",
      "label": "t:blocks.heading.settings.max_width_label",
      "min": 20,
      "max": 80,
      "step": 2,
      "unit": "ch",
      "default": 40
    }
  ],
  "presets": [
    {
      "name": "t:blocks.heading.presets.default_name",
      "category": "t:blocks.heading.presets.category_hero",
      "settings": {
        "heading": "t:blocks.heading.settings.heading_default",
        "heading_level": "h1",
        "heading_size": "size-large",
        "text_alignment": "center",
        "max_width": 40
      }
    }
  ]
}
{% endschema %}
